<!-- _includes/head.html -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {%- comment -%}
    ðŸ§  META + TITLE SETUP
    - Combines SEO logic from meta-head + head-links
  {%- endcomment -%}
  {% assign base_title = page.seo_title | default: page.title | default: site.title %}
  {% assign append_site = page.append_site_title | default: true %}
  {% if append_site and base_title != site.title %}
    {% capture full_title %}{{ base_title }} | {{ site.title }}{% endcapture %}
  {% else %}
    {% assign full_title = base_title %}
  {% endif %}
  {% assign share = page.image | default: '/assets/img/default-share.jpg' %}
  {% assign ogtype = page.og_type | default: 'website' %}

  <title>{{ full_title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}" />
  <meta name="author" content="{{ site.author | default: 'StudioRich' }}" />
  <meta name="twitter:site" content="@studiorxch" />

{% if site.url contains "dev." %}
  <meta name="robots" content="noindex,nofollow,noarchive">
{% elsif jekyll.environment == "production" %}
  <link rel="canonical" href="{{ site.url }}{{ page.url }}" />
{% else %}
  <meta name="robots" content="noindex,nofollow,noarchive">
{% endif %}


  <!-- Open Graph -->
  <meta property="og:type" content="{{ ogtype }}" />
  <meta property="og:title" content="{{ page.og_title | default: base_title }}" />
  <meta property="og:description" content="{{ page.og_description | default: page.description | default: site.description }}" />
  <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
  <meta property="og:image" content="{{ site.url }}{{ share }}" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ page.twitter_title | default: base_title }}" />
  <meta name="twitter:description" content="{{ page.twitter_description | default: page.description | default: site.description }}" />
  <meta name="twitter:image" content="{{ site.url }}{{ page.image_jpg | default: share }}" />

  {%- comment -%}
    ðŸ“Ž IDENTITY & VERIFICATION LINKS
  {%- endcomment -%}
  <link rel="me" href="https://richielau.com" />
  <link rel="me" href="https://studiorich.shop" />
  <link rel="me" href="https://trackstar.nyc" />
  <link rel="me" href="https://github.com/studiorxch" />
  <link rel="me" href="https://bsky.app/profile/studiorich.shop" />
  <link rel="me" href="https://www.instagram.com/_studiorich" />
  <link rel="me" href="https://x.com/studiorxch" />

  {%- comment -%}
    ðŸŽ§ MUSIC PLATFORMS
  {%- endcomment -%}
  <link rel="me" href="https://open.spotify.com/artist/55NPQkvFCSFrE7eZuzlzqT" />
  <link rel="me" href="https://soundcloud.com/studiorich" />
  <link rel="me" href="https://music.youtube.com/@Studio-Rich" />
  <link rel="me" href="https://studiorich.bandcamp.com" />

  <!-- Favicon + App Icons -->
  <link rel="icon" href="{{ '/assets/img/logos/favicon.ico' | relative_url }}" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/img/logos/apple-touch-icon.png' | relative_url }}" />
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/assets/img/logos/favicon-32x32.png' | relative_url }}" />


  <!-- Stylesheet (auto picks minified version in prod) -->
  {% if jekyll.environment == "production" %}
<link rel="stylesheet" href="{{ '/css/main.purged.css?v=' | append: site.time | relative_url }}">
  {% else %}
    <link rel="stylesheet" href="{{ '/css/main.css' | relative_url }}" />
  {% endif %}

  <!-- JSON-LD Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "StudioRich",
    "url": "https://www.studiorich.shop",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://www.studiorich.shop/?s={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Google Analytics (included only in production) -->
  {% if jekyll.environment == "production" and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}

  <!-- Environment Indicator for JS -->
  {% if jekyll.environment == "production" %}
<script>window.ENV = "production";</script>
{% else %}
<script>window.ENV = "development";</script>
{% endif %}

</head>
